(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{584:function(t,s,a){"use strict";a.r(s);var e=a(4),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("æœ€è¿‘åœ¨å¼€å‘é¡¹ç›®çš„æ—¶å€™ï¼Œå‘ç°åŒäº‹æœ‰éœ€æ±‚æ˜¯ç‚¹å‡»æµè§ˆå™¨çš„è¿”å›ï¼Œæˆ–è€…ç›´æ¥ç‚¹å‡»å…¶ä»–èœå•è·³èµ°çš„æ—¶å€™ï¼Œéœ€æ±‚æ˜¯æƒ³æé†’ä¸€ä¸‹ç”¨æˆ·ï¼Œæ˜¯å¦ä¿å­˜å½“å‰æ‰€ç¼–å†™çš„å†…å®¹ï¼Œå½“ç”¨æˆ·ç¡®å®šåï¼Œåœ¨å»æ‰§è¡Œå¯¹åº”çš„è·³è½¬ã€‚")]),t._v(" "),a("p",[t._v("è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯å…¨å±€çš„å¯¹è·¯ç”±è¿›è¡Œæ§åˆ¶ï¼Œä¸€èˆ¬éƒ½ä¼šå†™æˆ "),a("code",[t._v("window.location.href")]),t._v(" è¿™ç§æ ¼å¼å»é˜»æ­¢ï¼Œæˆ–è€…é‡æ–°å¯¹è·¯ç”±è¿›è¡Œæ§åˆ¶çš„é—®é¢˜ï¼Œæ‰€ä»¥æƒ³å†™ä¸€ç¯‡æ–‡ç« æ€»ç»“ä¸€ä¸‹")]),t._v(" "),a("p",[t._v("è™½ç„¶ vue çš„è·¯ç”±æ§åˆ¶éƒ½æ˜¯åŸºäº "),a("code",[t._v("HTML5 History API")]),t._v(" çš„ï¼Œä½†æ˜¯åœ¨å†™é¡¹ç›®çš„æ—¶å€™ï¼Œè¿˜æ˜¯æ¯”è¾ƒæ¨èä½¿ç”¨ vue å®˜æ–¹æ¨èçš„ vue-router ç›¸å…³çš„æŠ€æœ¯")]),t._v(" "),a("h2",{attrs:{id:"å…¨å±€å®ˆå«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…¨å±€å®ˆå«"}},[t._v("#")]),t._v(" å…¨å±€å®ˆå«")]),t._v(" "),a("p",[t._v("ä½ å¯ä»¥ä½¿ç”¨ router.beforeEach æ³¨å†Œä¸€ä¸ªå…¨å±€å‰ç½®å®ˆå«ï¼š")]),t._v(" "),a("p",[t._v("ä¾‹å¦‚ä½ çš„é¡¹ç›®ç»“æ„æ˜¯")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("roter /\n|- index.js\n")])])]),a("p",[t._v("ä½ å¯ä»¥åœ¨ä½ å½“å‰é¡¹ç›®ä¸­çš„ router => index.js ä¸­å†™å…¥ä»¥ä¸‹ä»£ç ")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("VueRouter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nrouter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ol",[a("li",[a("code",[t._v("to")]),t._v(": æ˜¯æŒ‡è·¯ç”±ä¸‹ä¸€æ­¥å°†è¦å»çš„ä½ç½®å¯¹è±¡")]),t._v(" "),a("li",[a("code",[t._v("from")]),t._v(": è·¯ç”±æ¥è‡ªå“ªé‡Œçš„ä½ç½®å¯¹è±¡")]),t._v(" "),a("li",[a("code",[t._v("next")]),t._v(": ä½ çš„è·¯ç”±å®ˆå«ä¸­å¿…é¡»åŒ…å«çš„ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœä¸æ‰§è¡Œ "),a("code",[t._v("next()")]),t._v(" ï¼Œå°†ä¼šå‡ºç°ä¸å¯é¢„æµ‹çš„é—®é¢˜")])]),t._v(" "),a("h2",{attrs:{id:"ç»„ä»¶å†…çš„è·¯ç”±å®ˆå«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»„ä»¶å†…çš„è·¯ç”±å®ˆå«"}},[t._v("#")]),t._v(" ç»„ä»¶å†…çš„è·¯ç”±å®ˆå«")]),t._v(" "),a("p",[t._v("æœ‰ä¸‰ç§ç»„ä»¶å†…çš„å®ˆå«")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("beforeRouteEnter")])]),t._v(" "),a("li",[a("code",[t._v("beforeRouteUpdate")]),t._v("  (2.2 æ–°å¢)")]),t._v(" "),a("li",[a("code",[t._v("beforeRouteLeave")])])]),t._v(" "),a("p",[t._v("ä¸»è¦è¯´ä¸€ä¸‹ "),a("code",[t._v("beforeRouteLeave")]),t._v(" è¿™ä¸ªï¼Œå› ä¸ºåœ¨é¡¹ç›®ä¸­æˆ–è®¸ä¼šç»å¸¸ç”¨åˆ°çš„ä¸€ä¸ªæ–¹æ³•")]),t._v(" "),a("p",[a("code",[t._v("beforeRouteLeave")]),t._v(" æ˜¯ä¸€ä¸ªåœ¨å½“å‰è·¯ç”±ï¼Œçªç„¶ç¦»å¼€æ—¶è§¦å‘çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä¾‹å¦‚å½“å‰ä½ æ­£åœ¨ä¸€ä¸ªç¼–è¾‘ç•Œé¢ï¼Œç”¨æˆ·ä¸å°å¿ƒç‚¹å‡»äº†æµè§ˆå™¨çš„è¿”å›ï¼Œäº¦æˆ–è€…ç‚¹å‡»äº†èœå•æ ä¸­å…¶ä»–èœå•çš„å¯¼èˆªï¼Œä¼šæ‰§è¡Œè¯¥æ–¹æ³•ï¼Œ")]),t._v(" "),a("p",[a("code",[t._v("beforeRouteLeave")]),t._v(" ä¹Ÿæ‹¥æœ‰3ä¸ªå‚æ•°ï¼Œä¸å…¨å±€è·¯ç”±å®ˆå«çš„å‚æ•°æ˜¯ä¸€è‡´çš„")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeRouteLeave")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å†™å…¥ä½ æƒ³å¯¹ç”¨æˆ·è¯´çš„å†…å®¹")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åŠ¡å¿…ä¿è¯ next æ–¹æ³•æ˜¯è¢«è§¦å‘çš„")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä¸¾ä¸ªğŸŒ°")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeRouteLeave")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" answer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("confirm")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ä½ ç¡®å®šæ”¾å¼ƒå½“å‰ç¼–è¾‘çš„ç•Œé¢å¹¶ä¸”ç¦»å¼€å—ï¼Ÿ'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("answer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰§è¡Œé»˜è®¤æ“ä½œï¼Œç‚¹å‡»å“ªé‡Œå»å“ªé‡Œ")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»ˆæ­¢æ“ä½œï¼Œä¸æ‰§è¡Œè·¯ç”±è·³è½¬")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[t._v("beforeRouteLeave åªèƒ½åœ¨å½“å‰ç»„ä»¶è·¯ç”±åˆ‡æ¢æ—¶æ‰èƒ½å»è§¦å‘ï¼Œä¸èƒ½å†™åœ¨å½“å‰ç•Œé¢ä¸‹çš„å­ç»„ä»¶å†…")])]),t._v(" "),a("p",[t._v("å¥½äº†ï¼ŒğŸŒ°åƒå®Œäº†ã€‚")]),t._v(" "),a("p",[t._v("è¿™æ˜¯æˆ‘åœ¨é¡¹ç›®ä¸­é‡åˆ°åˆ°çš„é—®é¢˜ä»¥åŠæ€»ç»“ï¼Œå½“ç„¶æ›´æ¨èä½ å»"),a("a",{attrs:{href:"https://router.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜æ–¹"),a("OutboundLink")],1),t._v("ç³»ç»Ÿçš„å»æŸ¥çœ‹å¯¹åº”çš„æ•™ç¨‹")])])}),[],!1,null,null,null);s.default=n.exports}}]);