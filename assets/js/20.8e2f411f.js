(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{553:function(a,t,s){"use strict";s.r(t);var e=s(4),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[a._v("这是一篇关于 Nginx 服务器端配置的记录")]),a._v(" "),s("h2",{attrs:{id:"nginx-安装（centos-7）并配置服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginx-安装（centos-7）并配置服务"}},[a._v("#")]),a._v(" nginx 安装（centOS 7）并配置服务")]),a._v(" "),s("h3",{attrs:{id:"添加-yum-源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加-yum-源"}},[a._v("#")]),a._v(" 添加 yum 源")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" -ivh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm\n")])])]),s("h3",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" nginx\n")])])]),s("h3",{attrs:{id:"打开防火墙端口并重启"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打开防火墙端口并重启"}},[a._v("#")]),a._v(" 打开防火墙端口并重启")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("firewall-cmd --zone"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("public --permanent --add-service"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("http\nfirewall-cmd --reload\n")])])]),s("h3",{attrs:{id:"查看防火墙打开的所有服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看防火墙打开的所有服务"}},[a._v("#")]),a._v(" 查看防火墙打开的所有服务")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("firewall-cmd --list-service\n")])])]),s("h3",{attrs:{id:"查看当前打开的端口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看当前打开的端口"}},[a._v("#")]),a._v(" 查看当前打开的端口")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("firewall-cmd --zone"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("public --list-ports\n")])])]),s("h3",{attrs:{id:"打开指定端口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打开指定端口"}},[a._v("#")]),a._v(" 打开指定端口")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("firewall-cmd --zone"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("public --add-port"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v("/tcp\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# (永久生效再加上 --permanent)")]),a._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",[a._v("–zone 作用域")]),a._v(" "),s("p",[a._v("–add-port=8080/tcp 添加端口，格式为：端口/通讯协议")]),a._v(" "),s("p",[a._v("–permanent #永久生效，没有此参数重启后失效")])]),a._v(" "),s("h2",{attrs:{id:"解决-nginx-403-错误问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决-nginx-403-错误问题"}},[a._v("#")]),a._v(" 解决 nginx 403 错误问题")]),a._v(" "),s("p",[a._v("第一种情况： 在你的 nginx 配置文件下的 root 字段的路径下没有找到 index.html")]),a._v(" "),s("p",[a._v("第二种情况： 没有用 root 用户运行，导致权限不足，也可以通过将文件夹权限提升再试")]),a._v(" "),s("h2",{attrs:{id:"nginx部署前端spa应用实践"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginx部署前端spa应用实践"}},[a._v("#")]),a._v(" nginx部署前端SPA应用实践")]),a._v(" "),s("h3",{attrs:{id:"nginx-location-匹配规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginx-location-匹配规则"}},[a._v("#")]),a._v(" nginx location 匹配规则")]),a._v(" "),s("ul",[s("li",[a._v("~ 波浪线表示执行一个正则匹配，区分大小写")]),a._v(" "),s("li",[a._v("~* 表示执行一个正则匹配，不区分大小写")]),a._v(" "),s("li",[a._v("^~ 表示普通字符匹配，如果该选项匹配，只匹配该选项，不匹配别的选项，一般用来匹配目录")]),a._v(" "),s("li",[a._v("= 进行普通字符精确匹配")]),a._v(" "),s("li",[a._v("@ 定义一个命名的 location，使用在内部定向时，例如 error_page, try_files")])]),a._v(" "),s("h3",{attrs:{id:"browserhistory-模式的刷新问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#browserhistory-模式的刷新问题"}},[a._v("#")]),a._v(" browserHistory 模式的刷新问题")]),a._v(" "),s("p",[a._v("browserHistory 路由模式下，使用history api可以在前端进行页面跳转，但是刷新的话，就需要对链接进行一个修复（重定向）\n可以使用 nginx 的 "),s("code",[a._v("try_files")])]),a._v(" "),s("div",{staticClass:"language-conf extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("location / {\n        root   /root/deploy/shenyang_military_general_app;\n        index  index.html index.htm;\n      \ttry_files $uri $uri/ /index.html;\n}\n")])])]),s("h2",{attrs:{id:"开启-gzip-压缩"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开启-gzip-压缩"}},[a._v("#")]),a._v(" 开启 gzip 压缩")]),a._v(" "),s("div",{staticClass:"language-conf extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("gzip  on;\ngzip_types    text/plain application/javascript application/x-javascript text/javascript text/xml text/css;\n")])])]),s("p",[a._v("配置gzip_static")]),a._v(" "),s("div",{staticClass:"language-conf extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("gzip_static on;\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);